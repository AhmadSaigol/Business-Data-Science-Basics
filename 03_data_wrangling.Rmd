---
title: "03 Data Wrangling"
date: "2021-04"
output:
  html_document:
    toc: true
    toc_float: true
    df_print: paged
    collapsed: false
    number_sections: true
    toc_depth: 3
    code_folding: hide
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(message=FALSE,warning=FALSE, cache=TRUE)
```
# Patent Data Analysis
## Libraries
```{r}
library(vroom)

```

## Loading Data

```{r}
col_types_patent <- list(
  id = col_character(),
  date = col_date("%Y-%m-%d"),
  num_claims = col_integer()
)

patent_tbl <- vroom(
            file       = "00_data/03_data/Patent_data_reduced/patent.tsv", 
            delim      = "\t", 
            col_types  = col_types_patent,
            na         = c("", "NA", "NULL")
        )

col_types_assi <- list(
  id = col_character(),
  type = col_integer(),
  organization =col_character()
)

assignee_tbl <-  vroom(
            file       = "00_data/03_data/Patent_data_reduced/assignee.tsv", 
            delim      = "\t", 
            col_types  = col_types_assi,
            na         = c("", "NA", "NULL")
        )

col_types_patent_assi <- list(
  patent_id =col_character(),
  assignee_id =  col_character()
)

patent_assignee_tbl <-  vroom(
            file       = "00_data/03_data/Patent_data_reduced/patent_assignee.tsv", 
            delim      = "\t", 
            col_types  = col_types_patent_assi,
            na         = c("", "NA", "NULL")
        )

col_types_uspc <- list(
  patent_id = col_character(),
  mainclass_id = col_character(),
  sequence =col_integer()
)

uspce_tbl <-  vroom(
            file       = "00_data/03_data/Patent_data_reduced/uspc.tsv", 
            delim      = "\t", 
            col_types  = col_types_uspc,
            na         = c("", "NA", "NULL")
        )

```

## Patent Dominance

Merge assignee and patent_assignee through assignee id to form combined data. extract subset of data where type==2 then group it via organization to determine the number of rows and arrange it in the decreasing order.
```{r}

```

## Recent patent activity
Merge the previously merged data with patent through id.  extract subset of data where type==2 then group it via organization and perform summation operation along number of claims
```{r}


```
## Innovation in Tech:
Merge the merged data in question 1 with uspc through patient id. Group via sequence and determine the number of rows and arrange it in decreasing order. 
group via type and arrange it in decreasing order. Obtain top 10 companies and sum along main class.

```{r}

```

